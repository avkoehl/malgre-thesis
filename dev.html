<!DOCTYPE html>
<html>
<head>
  <title> Malgre Nous </title>
  <link rel="stylesheet" href="http://unpkg.com/leaflet@1.0.3/dist/leaflet.css"/>
  <link rel="stylesheet" href="./style/mystyle.css"/>
  <link rel="stylesheet" href="./style/MarkerCluster.css" />
  <link rel="stylesheet" href="./style/MarkerCluster.Default.css" />
  <link rel="stylesheet" href="./style/layout.css" />

  <script src="http://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
  <script src="./scripts/leaflet.edgebuffer.js"></script>
  <script src="./scripts/jquery-2.1.1.min.js"></script>
  <script src="./scripts/leaflet.markercluster-src.js"></script>
  <script src="./scripts/all.js"></script>

  <link rel="stylesheet" href="https://unpkg.com/leaflet-easybutton@2.0.0/src/easy-button.css">
  <script src="https://unpkg.com/leaflet-easybutton@2.0.0/src/easy-button.js"></script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">

  <!--
  <style>
    html, body, #map{ width:100%; height:100%;} 
  </style>
  -->
</head>

<body style="margin: 0 auto"> 

  <!-- make this actual nav bar www.adam-bray.com/2017/02/17/easy-html-5-css-3-navigation-menu/ -->
  <ul class="malgre">
    <li class="malgre">  <a style="text-decoration: none" href="http://malgrenous.com">Home</a> </li>  <!-- cluster, timeline, clickeurope, gallery, italy, searchmap, ... -->
    <li class="malgre">  <a style="text-decoration: none" href="http://malgrenous.com/borders.html">borders </a> </li> <!-- introduciton, methodology/technologies used -->
    <li class="malgre">  <a style="text-decoration: none" href="http://malgrenous.com/europe.html">europe </a> </li> <!-- sources, files -->
    <li class="malgre">  <a style="text-decoration: none" href="http://malgrenous.com/gallery.html">gallery </a> </li> <!-- sources, files -->
    <li class="malgre">  <a style="text-decoration: none" href="http://malgrenous.com/intro.html">intro </a> </li> <!-- sources, files -->
    <li class="malgre">  <a style="text-decoration: none" href="http://malgrenous.com/sources.html">sources </a> </li> <!-- sources, files -->
    <li class="malgre">  <a style="text-decoration: none" href="http://malgrenous.com/files.html">files </a> </li> <!-- sources, files -->
    <li class="malgre">  <a class="active" style="text-decoration: none" href="http://malgrenous.com/dev.html">Dev </a> </li> <!-- sources, files -->
  </ul>

<!--  <div style="float:left; width:20%; position: absolute; z-index:100">
  <h1> MALGRE NOUS </h1>
  </div> -->

    <div id="map" style="width:80vw; height:100vh; float:left"></div>
    <div style="width:19vw; height:100vh; color:white; background-color:#17729A; float:right">
      <center><h3 style="padding:20px"> Malgre Nous </h3><center>
      <p style="padding:20px"> This is some text about the map you are looking at, make sure to use the control buttons in the top right corner when using this map </p>
      <center><button class="desc"> Show borders </button></center>
      <br>

      <center>
      <input type="checkbox" name="1942"/>1942</br>
      <input type="checkbox" name="1942"/>1943</br>
      <input type="checkbox" name="1943"/>1944</br>
      <input type="checkbox" name="1944"/>1945</br>
      </center>



    </div>



  
  <!--
  <div id="map"></div>
  -->

  <script>
  var map = L.map('map', {zoomControl: false}).setView([47.06, 19.94], 5);
  map.scrollWheelZoom.disable();
  var year = 1942;


  L.easyButton({
    id: 'UK',
    position:'topright',
    leafletClasses: true,
    states:[{
      stateName: 'to UK',
      onClick: function () {
        map.setView([55, -2], 5);
      },
      title: 'go to uk',
      icon: '<i class="material-icons">room</i>',
    }]
  }).addTo(map);

  L.easyButton({
    id: 'data',
    position:'topright',
    leafletClasses: true,
    states:[{
      stateName: 'Enter parameters',
      onClick: function () {
         alert('clicked');
        },
      title: 'enter options',
      icon: '<i class="material-icons">room</i>',
    }]
  }).addTo(map);




  L.tileLayer('http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png', {
	  attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
	  subdomains: 'abcd',
	  maxZoom: 19,
    edgeBufferTiles: 2
  }).addTo(map);

  L.control.zoom({
    position:'topright'
  }).addTo(map);
 
  var MalgreNous = [{
    "type": "Feature",
    "geometry": {
      "type": "Point",
      "coordinates": [28, 49]
    },
    "properties": {"date": "1942", "name": "Arthur"}
  },{
    "type": "Feature",
    "geometry": {
      "type": "Point",
      "coordinates": [30, 49]
    },
    "properties": {"date": "1943"}
  },{
    "type": "Feature",
    "geometry": {
      "type": "Point",
      "coordinates": [35, 49]
    },
    "properties": {"date": "1944"}
  }];

  var geojsonMarkerOptions = {
    radius: 8,
    fillColor: "#ff7800",
    color: "#000",
    weight: 1,
    opacity: 1,
    fillOpacity: 0.8
  };

  var content = '<table>';

  function onEachFeature (feature, layer) {
    if (feature.properties){
      for (var p in feature.properties) {
        content += '<tr><td>' + p + '</td><td>' + feature.properties[p] + '</td></tr>';
      }
      layer.bindPopup(content);
    }
  }

  var myLayer = L.geoJson(false, {
    onEachFeature: onEachFeature,
    pointToLayer: function (feature, latlng) {
      return L.circleMarker(latlng, geojsonMarkerOptions)}
    });

  var i;
  for (i = 0; i < MalgreNous.length; ++i)
  {
    if (MalgreNous[i].properties.date == year)
      myLayer.addData(MalgreNous[i]);
  }

  myLayer.addTo(map);


    
  



  </script>
</body>

</html>
